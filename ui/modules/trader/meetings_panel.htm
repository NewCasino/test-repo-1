<div class="panel-frame">
    <table class="table">
        <thead>
            <tr>
                <th>
                    <h4 class="panel-title">Meetings</h4>
                    <button class="btn btn-info pull-right" ng-click="ctrl.selectAll()">Select All</button>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <table class="table table-striped">
                        <tbody>
                            <tr ng-repeat-start="item in ctrl.vm.filteredItems = (ctrl.vm.meetings | filter: ctrl.vm.typeFilter | filter: ctrl.vm.statusFilter | filter: ctrl.vm.countryFilter)"
                                class="meeting-row">
                                <td width="48px"><input type="checkbox" class="cb-styled" ng-model="item.selected" ></td>
                                <td width="48px"><span class="pointer" ng-class="(item.allEvents) ? 'glyphicon glyphicon-triangle-bottom' : 'glyphicon glyphicon-triangle-top'" ng-click="item.allEvents=!item.allEvents"></span>
                                <td width="48px"><img src="/img/{{item.Country}}.jpg" border="0" /></td>
                                <td width="48px"><img src="/img/{{item.Type}}.png" border="0" /></td>
                                <td width="200px">{{item.Venue}}</td>
                                <td>{{ctrl.vm.region[item.Region]}}</td>
                            </tr>
                            <tr ng-if="!item.allEvents" ng-repeat-end="">
                                <td colspan="6">
                                    <table>
                                        <tr ng-repeat="event in item.Events">
                                            <td width="48px">&nbsp;</td>
                                            <td width="48px"><input type="checkbox" class="cb-styled" ng-model="item.allEvents" ></td>
                                            <td width="48px">R{{event.Event_No}}</td>
                                            <td width="48px">{{event.Start_Time | toDisplayTime}}</td>
                                            <td>{{event.Name}}</td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        <tbody>
    </table>
</div>
